<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Aplikasi Keuangan - Dark Mode</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#3b82f6"/>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container">
    <header>
      <div class="header-top">
        <h1>Catatan Keuangan</h1>
        <div class="header-actions">
          <button id="themeToggle" class="btn">Mode Gelap</button>
          <button id="installBtn" class="btn">Pasang</button>
        </div>
      </div>
      <p class="subtitle">Data disimpan di perangkat. Gunakan toggle untuk mengganti tema.</p>
    </header>

    <section class="card input-card">
      <form id="entryForm">
        <div class="row">
          <div class="field">
            <label for="type">Jenis</label>
            <select id="type" required>
              <option value="income">Pendapatan</option>
              <option value="expense">Pengeluaran</option>
            </select>
          </div>
          <div class="field">
            <label for="desc">Keterangan</label>
            <input id="desc" type="text" placeholder="Contoh: Uang Harian, Laundry" required />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="category">Kategori</label>
            <select id="category">
              <option>Umum</option>
              <option>Gaji</option>
              <option>Jualan</option>
              <option>Belanja</option>
              <option>Transport</option>
              <option>Hiburan</option>
              <option>Tabungan</option>
              <option>Lainnya</option>
            </select>
          </div>
          <div class="field">
            <label for="amount">Jumlah (Rp)</label>
            <input id="amount" type="text" inputmode="numeric" placeholder="50.000" required />
          </div>
          <div class="field">
            <label for="date">Tanggal</label>
            <input id="date" type="date" />
          </div>
        </div>

        <div class="actions">
          <button type="submit" class="btn primary">Tambahkan</button>
          <button type="button" id="clearBtn" class="btn">Bersihkan Semua</button>
          <button type="button" id="exportBtn" class="btn">Export JSON</button>
          <button type="button" id="exportCsvBtn" class="btn">Export CSV</button>
          <input id="importFile" type="file" accept=".json" style="display:none" />
          <button type="button" id="importBtn" class="btn">Import JSON</button>
        </div>
      </form>
    </section>

    <section class="cards">
      <div class="card summary">
        <h3>Ringkasan</h3>
        <div class="summary-row"><span>Total Pendapatan</span><strong id="totalIncome">Rp 0</strong></div>
        <div class="summary-row"><span>Total Pengeluaran</span><strong id="totalExpense">Rp 0</strong></div>
        <div class="summary-row balance"><span>Sisa Saldo</span><strong id="balance">Rp 0</strong></div>
        <hr/>
        <div class="filters">
          <h4>Filter</h4>
          <label>Mulai <input id="filterStart" type="date" /></label>
          <label>Akhir <input id="filterEnd" type="date" /></label>
          <label>Kategori
            <select id="filterCategory">
              <option value="">Semua</option>
              <option>Umum</option><option>Gaji</option><option>Jualan</option><option>Belanja</option>
              <option>Transport</option><option>Hiburan</option><option>Tabungan</option><option>Lainnya</option>
            </select>
          </label>
          <div style="margin-top:8px;">
            <button id="applyFilter" class="btn">Terapkan</button>
            <button id="resetFilter" class="btn">Reset</button>
          </div>
        </div>
      </div>

      <div class="card listcard">
        <h3>Daftar Transaksi</h3>
        <table id="txTable">
          <thead>
            <tr><th>Tgl</th><th>Keterangan</th><th>Kategori</th><th>Jenis</th><th>Jumlah (Rp)</th><th>Aksi</th></tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <footer>
      <small>Versi dengan tema gelap/terang. Tema disimpan di perangkat.</small>
    </footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
